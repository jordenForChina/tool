define("wiki-lemma:widget/feature/enterprise/creditModule/creditModule.js",function(e,i,t){function c(e){d.init(e)}var n=e("wiki-common:widget/lib/jquery/jquery.js"),s=e("wiki-common:widget/lib/jsmart/jsmart.js"),a=e("wiki-common:widget/component/nslog/nslog.js"),l=new s('<div class="credit-table">\n<div class="credit-table-item cmn-clearfix">\n<div class="credit-table-title">企业全称：</div>\n<div class="credit-table-content">{%$lemmaTitle|f_escape_xml%}</div>\n</div>\n<div class="credit-table-item credit-table-item-large cmn-clearfix">\n<div class="credit-table-title">统一社会信用代码：</div>\n<div class="credit-table-content">{%$creditNo|f_escape_xml%}</div>\n</div>\n<div class="credit-table-item cmn-clearfix">\n<div class="credit-table-title">公司类型：</div>\n<div class="credit-table-content">{%$level|f_escape_xml%}</div>\n</div>\n<div class="credit-table-item cmn-clearfix">\n<div class="credit-table-title">经营状态：</div>\n<div class="credit-table-content">{%$certStatus|f_escape_xml%}</div>\n</div>\n<div class="credit-table-item cmn-clearfix">\n<div class="credit-table-title">成立日期：</div>\n<div class="credit-table-content">{%$foundTime|f_escape_xml%}</div>\n</div>\n<div class="credit-table-item credit-table-item-medium cmn-clearfix">\n<div class="credit-table-title">法定代表人：</div>\n<div class="credit-table-content">{%$legalPerson|f_escape_xml%}</div>\n</div>\n<div class="credit-table-item cmn-clearfix">\n<div class="credit-table-title">注册资本：</div>\n<div class="credit-table-content">{%$regCapital|f_escape_xml%}</div>\n</div>\n{%if $scopeMini%}\n<div class="credit-table-item cmn-clearfix J-scope-mini">\n<div class="credit-table-title">经营范围：</div>\n<div class="credit-table-content">{%$scopeMini|f_escape_xml%}<a href="javascript:void(0);" class="J-mini-scope-toggle">展开</a></div>\n</div>\n{%/if%}\n<div class="credit-table-item cmn-clearfix J-scope" {%if $scopeMini%} style="display: none;" {%/if%}>\n<div class="credit-table-title">经营范围：</div>\n<div class="credit-table-content credit-table-content-scope">{%$scope|f_escape_xml%}<a href="javascript:void(0);" style="margin-left: 5px;" class="J-scope-toggle">收起</a></div>\n</div>\n</div>\n{%if $hasCreditItem%}\n<div class="credit-icons-el">\n<div class="credit-icons-title">风险信息：</div>\n<div class="credit-icons-content">\n{%if $changeCount%}\n<a class="credit-icons-item J-credit-item" href="{%$qxbUrl|f_escape_xml%}?from=bk#/risk/changerecords" target="_blank">\n<span class="credit-icons credit-icons-change"><i>{%$changeCount|f_escape_xml%}</i></span><span class="credit-icons-text">工商变更</span>\n</a>\n{%/if%}\n{%if $lawsuitsCount%}\n<a class="credit-icons-item J-credit-item" href="{%$qxbUrl|f_escape_xml%}?from=bk#/risk/lawsuits" target="_blank">\n<span class="credit-icons credit-icons-court"><i>{%$lawsuitsCount|f_escape_xml%}</i></span><span class="credit-icons-text">法院判决</span>\n</a>\n{%/if%}\n{%if $noticeCount%}\n<a class="credit-icons-item J-credit-item" href="{%$qxbUrl|f_escape_xml%}?from=bk#/risk/notices" target="_blank">\n<span class="credit-icons credit-icons-notice"><i>{%$noticeCount|f_escape_xml%}</i></span><span class="credit-icons-text">法院公告</span>\n</a>\n{%/if%}\n</div>\n<div class="credit-icons-more">\n<a href="{%$qxbUrl|f_escape_xml%}?from=bk" class="J-credit-more" target="_blank">查看更多 &gt;</a>\n</div>\n</div>\n<div class="credit-footer">\n<a class="J-web-home" href="http://www.qixin.com?from=bk" target="_blank">以上由企业信用信息查询平台-启信宝提供</a>\n</div>\n{%else%}\n<div class="credit-bg-footer">\n<a class="credit-bg-footer-more J-more" href="{%$qxbUrl|f_escape_xml%}?from=bk" target="_blank">查看更多</a>\n<div><i></i><a class="J-web-home" href="http://www.qixin.com?from=bk" target="_blank">以上由企业信用信息查询平台-启信宝提供</a></div>\n</div>\n{%/if%}'),d={init:function(e){var i=e.adManager||{};this.el=n("#enterprise_creditModule"),this.param=e,"undefined"!=typeof i.pcQxbEnterpriseLemma&&this.fetch()},fetch:function(){var e=this;n.ajax({url:"/api/wikiui/getcertifyinfo",type:"GET",dataType:"json",data:{lemma:this.param.lemmaTitle},success:function(i){0===i.errno&&i.data&&(e.render(i.data),e.bindEvents())}})},render:function(e){var i=this.processData(e);this.el.append(l.fetch(i)).show()},processData:function(e){return e.changeCount||e.lawsuitsCount||e.noticeCount?(e.hasCreditItem=!0,a(10070003)):a(10070006),e.scope&&e.scope.length>26&&(e.scopeMini=e.scope.slice(0,26)+"..."),e},bindEvents:function(){var e=this;this.el.on("click",".J-mini-scope-toggle",function(){e.el.find(".J-scope-mini").hide(),e.el.find(".J-scope").show(),a(10070010)}),this.el.on("click",".J-scope-toggle",function(){e.el.find(".J-scope").hide(),e.el.find(".J-scope-mini").show(),a(10070008)}),this.el.on("click",".J-web-home",function(){a(10070002)}),this.el.on("click",".J-credit-more",function(){a(10070004)}),this.el.on("click",".J-more",function(){a(10070007)}),this.el.on("click",".J-credit-item",function(){a(10070005)})}};t.exports={init:c}});